<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Include in <head> of ALL HTML files -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - FinFlow</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<!-- Include before </body> of ALL HTML files -->
<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">FinFlow</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#budget">Budget</a></li>
                    <li class="nav-item"><a class="nav-link" href="#investments">Investments</a></li>
                    <li class="nav-item"><a class="nav-link" href="#transactions">Transactions</a></li>
                    <li class="nav-item"><a class="nav-link" href="#rewards">Rewards</a></li>
                    <li class="nav-item"><a class="nav-link" href="logout.html">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <div class="container mt-4">
        <h2 id="welcome-message">Welcome, User!</h2>
        
        <div class="row">
            <div class="col-md-6">
                <canvas id="financeChart"></canvas>
            </div>
            <div class="col-md-6">
                <div id="budget" class="p-3 border rounded bg-light mb-3">
                    <h4>Budget Overview</h4>
                    <p>Track your monthly budget and expenses.</p>
                </div>
                <div id="investments" class="p-3 border rounded bg-light mb-3">
                    <h4>Investment Tracker</h4>
                    <p>Monitor your stock and crypto investments.</p>
                </div>
                <div id="transactions" class="p-3 border rounded bg-light mb-3">
                    <h4>Recent Transactions</h4>
                    <p>View and manage your past financial transactions.</p>
                </div>
                <div id="rewards" class="p-3 border rounded bg-light">
                    <h4>Rewards</h4>
                    <p>Earn points by maintaining good financial habits.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let user = localStorage.getItem("username") || "User";
            document.getElementById("welcome-message").innerText = `Welcome, ${user}!`;

            const ctx = document.getElementById('financeChart').getContext('2d');
            const financeChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Income', 'Expenses', 'Investments', 'Savings'],
                    datasets: [{
                        label: 'Financial Overview',
                        data: [5000, 3000, 1000, 1000],
                        backgroundColor: ['green', 'red', 'blue', 'purple']
                    }]
                }
            });
        });
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
